<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meme Master: The Caption Clash</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: white;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            margin-bottom: 10px;
        }

        .header p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.2rem;
        }

        .screen {
            display: none;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
        }

        .active {
            display: block;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #4CAF50;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        .input-field {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .card.selected {
            background: #e3f2fd;
            border: 2px solid #2196F3;
        }

        .player-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .player-card {
            background: #e9ecef;
            padding: 10px 15px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .player-card.judge {
            background: #fff3cd;
            border: 2px solid #ffc107;
        }

        .player-card .score {
            background: #667eea;
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
        }

        .meme-image {
            max-width: 100%;
            max-height: 400px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            margin: 20px 0;
        }

        .caption-cards {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .caption-card {
            background: white;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            padding: 15px;
            width: 200px;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .caption-card:hover {
            border-color: #667eea;
            transform: translateY(-3px);
        }

        .caption-card.selected {
            border-color: #4CAF50;
            background: #e8f5e8;
        }

        .submission {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .submission:hover {
            background: #e9ecef;
        }

        .submission.selected {
            background: #d4edda;
            border: 2px solid #28a745;
        }

        .game-info {
            background: rgba(102, 126, 234, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .rules-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .rule-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: white;
            border-radius: 8px;
        }

        .rule-icon {
            font-size: 1.5rem;
        }

        .status-message {
            background: #d1ecf1;
            color: #0c5460;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            text-align: center;
        }

        .winner-announcement {
            background: #d4edda;
            color: #155724;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .scoreboard {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
        }

        .score-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
            min-width: 120px;
        }

        .score-item .player-name {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .score-item .score {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .caption-cards {
                flex-direction: column;
                align-items: center;
            }
            
            .caption-card {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üé≠ Meme Master: The Caption Clash</h1>
            <p>Create hilarious memes with your friends!</p>
        </div>

        <!-- Lobby Screen -->
        <div id="lobby-screen" class="screen active">
            <h2>Welcome to Meme Master! üéÆ</h2>
            
            <div class="input-group">
                <label for="username">Your Name:</label>
                <input type="text" id="username" class="input-field" placeholder="Enter your username" maxlength="20">
            </div>

            <div class="action-buttons" style="text-align: center; margin: 30px 0;">
                <button id="create-room-btn" class="btn">üé™ Create New Room</button>
                <div style="margin: 20px 0; color: #666; font-weight: bold;">OR</div>
                <div style="display: flex; gap: 10px;">
                    <input type="text" id="room-code" class="input-field" placeholder="Enter Room Code" maxlength="6" style="flex: 1;">
                    <button id="join-room-btn" class="btn">üîó Join Room</button>
                </div>
            </div>

            <div class="game-info">
                <h3>üéØ How to Play:</h3>
                <div class="rules-list">
                    <div class="rule-item">
                        <span class="rule-icon">üë•</span>
                        <span>3-8 players can play together</span>
                    </div>
                    <div class="rule-item">
                        <span class="rule-icon">üÉè</span>
                        <span>Each player gets 7 caption cards</span>
                    </div>
                    <div class="rule-item">
                        <span class="rule-icon">üñºÔ∏è</span>
                        <span>Judge reveals a meme image</span>
                    </div>
                    <div class="rule-item">
                        <span class="rule-icon">üí¨</span>
                        <span>Players submit funniest caption</span>
                    </div>
                    <div class="rule-item">
                        <span class="rule-icon">‚≠ê</span>
                        <span>Judge picks the winner</span>
                    </div>
                    <div class="rule-item">
                        <span class="rule-icon">üèÜ</span>
                        <span>First to 10 points wins!</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Waiting Room Screen -->
        <div id="waiting-screen" class="screen">
            <h2>Waiting Room</h2>
            <div class="status-message">
                Room Code: <strong id="display-room-code"></strong>
            </div>
            
            <h3>Players:</h3>
            <div id="players-list" class="player-list">
                <!-- Players will be added here dynamically -->
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button id="start-game-btn" class="btn" disabled>Start Game</button>
                <button id="leave-room-btn" class="btn" style="background: #dc3545;">Leave Room</button>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2>Meme Master Game</h2>
                <div>Room: <strong id="game-room-code"></strong></div>
            </div>
            
            <div id="game-status" class="status-message">
                Waiting for game to start...
            </div>
            
            <div id="judge-section" style="display: none;">
                <div class="status-message">
                    üéØ You are the Judge! Select the funniest caption.
                </div>
                
                <div id="meme-container" style="text-align: center;">
                    <img id="meme-image" class="meme-image" src="" alt="Meme Template">
                </div>
                
                <h3>Submitted Captions:</h3>
                <div id="submissions-list">
                    <!-- Submissions will be added here -->
                </div>
            </div>
            
            <div id="player-section" style="display: none;">
                <div class="status-message">
                    üí¨ Select your funniest caption for this meme!
                </div>
                
                <div id="player-meme-container" style="text-align: center;">
                    <img id="player-meme-image" class="meme-image" src="" alt="Meme Template">
                </div>
                
                <h3>Your Caption Cards:</h3>
                <div id="caption-cards" class="caption-cards">
                    <!-- Caption cards will be added here -->
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button id="submit-caption-btn" class="btn" disabled>Submit Caption</button>
                </div>
            </div>
            
            <div id="waiting-section" style="display: none;">
                <div class="status-message">
                    ‚è≥ Waiting for other players to submit their captions...
                </div>
                
                <div style="text-align: center;">
                    <img id="waiting-meme-image" class="meme-image" src="" alt="Meme Template">
                </div>
            </div>
            
            <div id="scoreboard-section" style="display: none;">
                <h3>Scoreboard</h3>
                <div id="scoreboard" class="scoreboard">
                    <!-- Scores will be added here -->
                </div>
            </div>
            
            <div style="margin-top: 30px;">
                <button id="leave-game-btn" class="btn" style="background: #dc3545;">Leave Game</button>
            </div>
        </div>

        <!-- Winner Screen -->
        <div id="winner-screen" class="screen">
            <div class="winner-announcement">
                <h2>üéâ Winner! üéâ</h2>
                <p id="winner-name" style="font-size: 1.5rem; margin: 10px 0;"></p>
                <p id="winning-caption" style="font-style: italic; margin: 15px 0;"></p>
            </div>
            
            <h3>Final Scoreboard</h3>
            <div id="final-scoreboard" class="scoreboard">
                <!-- Final scores will be added here -->
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button id="play-again-btn" class="btn">Play Again</button>
                <button id="back-to-lobby-btn" class="btn" style="background: #6c757d;">Back to Lobby</button>
            </div>
        </div>
    </div>

    <script>
        // Game Data
        const gameData = {
            imageCards: [
                {
                    "id": "IMG001",
                    "name": "Confused Student",
                    "description": "Ek student exam hall mein confused hai",
                    "url": "https://images.unsplash.com/photo-1635070041078-e363dbe005cb?w=400",
                    "theme": "Student Struggle"
                },
                {
                    "id": "IMG002", 
                    "name": "Monday Morning",
                    "description": "Office mein Monday morning ki feeling",
                    "url": "https://images.unsplash.com/photo-1581093458791-8a6b6d47d0b9?w=400",
                    "theme": "Office Life"
                },
                {
                    "id": "IMG003",
                    "name": "Online Dating",
                    "description": "Online dating app use karte hue",
                    "url": "https://images.unsplash.com/photo-1518458028785-8fbcd101ebb9?w=400",
                    "theme": "Dating"
                },
                {
                    "id": "IMG004",
                    "name": "Tech Support",
                    "description": "Computer problem hone par",
                    "url": "https://images.unsplash.com/photo-1580894894513-541e068a3e2b?w=400",
                    "theme": "Tech"
                },
                {
                    "id": "IMG005",
                    "name": "Desi Mom",
                    "description": "Indian mother scolding her child",
                    "url": "https://images.unsplash.com/photo-1583512603806-077998240c7a?w=400",
                    "theme": "Indian Relatability"
                }
            ],
            captionCards: [
                {"id": "CAP001", "text": "Jab teacher puche: 'Kal kya kiya?'", "category": "Student Struggle"},
                {"id": "CAP002", "text": "Monday morning ki feeling", "category": "Office Life"},
                {"id": "CAP003", "text": "Swipe right kiya, par match nahi aaya", "category": "Dating"},
                {"id": "CAP004", "text": "Internet slow hone par mera reaction", "category": "Tech"},
                {"id": "CAP005", "text": "Mummy ka special treatment", "category": "Indian Relatability"},
                {"id": "CAP006", "text": "Jab assignment last minute submit karna ho", "category": "Student Struggle"},
                {"id": "CAP007", "text": "Meeting khatam hone ka intezar", "category": "Office Life"},
                {"id": "CAP008", "text": "Ghost hone ka darr", "category": "Dating"},
                {"id": "CAP009", "text": "Phone charge khatam hone wala hai", "category": "Tech"},
                {"id": "CAP010", "text": "Sharma ji ka beta", "category": "Indian Relatability"},
                {"id": "CAP011", "text": "Group project mein sabka kaam ek karna", "category": "Student Struggle"},
                {"id": "CAP012", "text": "Coffee machine khrab ho jana", "category": "Office Life"},
                {"id": "CAP013", "text": "Pehli date pe awkward silence", "category": "Dating"},
                {"id": "CAP014", "text": "Software update mandatory hai", "category": "Tech"},
                {"id": "CAP015", "text": "Ghar ki special recipe", "category": "Indian Relatability"}
            ]
        };

        // Game State
        let gameState = {
            roomCode: '',
            username: '',
            players: [],
            isJudge: false,
            hand: [],
            currentImage: null,
            submissions: [],
            selectedCaption: null,
            scores: {},
            round: 0
        };

        // DOM Elements
        const screens = {
            lobby: document.getElementById('lobby-screen'),
            waiting: document.getElementById('waiting-screen'),
            game: document.getElementById('game-screen'),
            winner: document.getElementById('winner-screen')
        };

        // Utility Functions
        function showScreen(screenName) {
            Object.values(screens).forEach(screen => {
                screen.classList.remove('active');
            });
            screens[screenName].classList.add('active');
        }

        function generateRoomCode() {
            return Math.random().toString(36).substring(2, 8).toUpperCase();
        }

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function dealCards(playerCount) {
            const shuffledCaptions = shuffleArray([...gameData.captionCards]);
            const hands = [];
            const cardsPerPlayer = 7;
            
            for (let i = 0; i < playerCount; i++) {
                hands.push(shuffledCaptions.slice(i * cardsPerPlayer, (i + 1) * cardsPerPlayer));
            }
            
            return hands;
        }

        // Event Listeners
        document.getElementById('create-room-btn').addEventListener('click', () => {
            const username = document.getElementById('username').value.trim();
            if (!username) {
                alert('Please enter your username');
                return;
            }
            
            gameState.username = username;
            gameState.roomCode = generateRoomCode();
            gameState.players = [{ username, score: 0, isJudge: true }];
            gameState.scores = { [username]: 0 };
            
            // For demo purposes, we'll simulate other players
            simulateOtherPlayers();
            
            updateWaitingRoom();
            showScreen('waiting');
        });

        document.getElementById('join-room-btn').addEventListener('click', () => {
            const username = document.getElementById('username').value.trim();
            const roomCode = document.getElementById('room-code').value.trim().toUpperCase();
            
            if (!username) {
                alert('Please enter your username');
                return;
            }
            
            if (!roomCode) {
                alert('Please enter a room code');
                return;
            }
            
            gameState.username = username;
            gameState.roomCode = roomCode;
            
            // For demo, we'll simulate joining an existing room
            simulateExistingRoom();
            
            updateWaitingRoom();
            showScreen('waiting');
        });

        document.getElementById('start-game-btn').addEventListener('click', () => {
            startGame();
        });

        document.getElementById('leave-room-btn').addEventListener('click', () => {
            showScreen('lobby');
        });

        document.getElementById('leave-game-btn').addEventListener('click', () => {
            showScreen('lobby');
        });

        document.getElementById('submit-caption-btn').addEventListener('click', () => {
            if (gameState.selectedCaption) {
                submitCaption();
            }
        });

        document.getElementById('play-again-btn').addEventListener('click', () => {
            resetGame();
            showScreen('waiting');
        });

        document.getElementById('back-to-lobby-btn').addEventListener('click', () => {
            resetGame();
            showScreen('lobby');
        });

        // Game Functions
        function updateWaitingRoom() {
            document.getElementById('display-room-code').textContent = gameState.roomCode;
            const playersList = document.getElementById('players-list');
            playersList.innerHTML = '';
            
            gameState.players.forEach(player => {
                const playerCard = document.createElement('div');
                playerCard.className = `player-card ${player.isJudge ? 'judge' : ''}`;
                playerCard.innerHTML = `
                    <span>${player.username}</span>
                    <div class="score">${player.score}</div>
                    ${player.isJudge ? 'üëë' : ''}
                `;
                playersList.appendChild(playerCard);
            });
            
            // Enable start button if enough players
            document.getElementById('start-game-btn').disabled = gameState.players.length < 2;
        }

        function simulateOtherPlayers() {
            // Add some AI players for demo
            const aiPlayers = ['Rahul', 'Priya', 'Amit'];
            const hands = dealCards(4); // 1 human + 3 AI
            
            aiPlayers.forEach((name, index) => {
                gameState.players.push({
                    username: name,
                    score: 0,
                    isJudge: false,
                    hand: hands[index + 1]
                });
                gameState.scores[name] = 0;
            });
            
            // Give human player their hand
            gameState.hand = hands[0];
        }

        function simulateExistingRoom() {
            // Simulate joining an existing room with AI players
            const aiPlayers = ['Rahul', 'Priya', 'Amit'];
            const hands = dealCards(4); // 1 human + 3 AI
            
            gameState.players = [
                { username: 'Rahul', score: 2, isJudge: true, hand: hands[0] },
                { username: 'Priya', score: 1, isJudge: false, hand: hands[1] },
                { username: 'Amit', score: 0, isJudge: false, hand: hands[2] }
            ];
            
            // Add human player
            gameState.players.push({
                username: gameState.username,
                score: 0,
                isJudge: false,
                hand: hands[3]
            });
            
            gameState.scores = {
                'Rahul': 2,
                'Priya': 1,
                'Amit': 0,
                [gameState.username]: 0
            };
            
            gameState.hand = hands[3];
        }

        function startGame() {
            // Set up initial game state
            gameState.round = 1;
            gameState.currentImage = shuffleArray([...gameData.imageCards])[0];
            
            // Update UI
            document.getElementById('game-room-code').textContent = gameState.roomCode;
            updateGameScreen();
            showScreen('game');
            
            // Start first round
            startNewRound();
        }

        function startNewRound() {
            // Get current player
            const currentPlayer = gameState.players.find(p => p.username === gameState.username);
            gameState.isJudge = currentPlayer.isJudge;
            
            // Update UI based on player role
            if (gameState.isJudge) {
                document.getElementById('judge-section').style.display = 'block';
                document.getElementById('player-section').style.display = 'none';
                document.getElementById('waiting-section').style.display = 'none';
                
                document.getElementById('meme-image').src = gameState.currentImage.url;
                document.getElementById('meme-image').alt = gameState.currentImage.name;
                
                document.getElementById('game-status').textContent = 
                    `Round ${gameState.round}: You are the Judge! Select the funniest caption.`;
            } else {
                document.getElementById('judge-section').style.display = 'none';
                document.getElementById('player-section').style.display = 'block';
                document.getElementById('waiting-section').style.display = 'none';
                
                document.getElementById('player-meme-image').src = gameState.currentImage.url;
                document.getElementById('player-meme-image').alt = gameState.currentImage.name;
                
                document.getElementById('game-status').textContent = 
                    `Round ${gameState.round}: Select your funniest caption!`;
                
                // Display player's hand
                displayCaptionCards();
            }
            
            // Show scoreboard
            updateScoreboard();
            document.getElementById('scoreboard-section').style.display = 'block';
            
            // For demo, simulate AI submissions after a delay
            if (!gameState.isJudge) {
                setTimeout(simulateAISubmissions, 2000);
            }
        }

        function displayCaptionCards() {
            const container = document.getElementById('caption-cards');
            container.innerHTML = '';
            
            gameState.hand.forEach(caption => {
                const card = document.createElement('div');
                card.className = 'caption-card';
                card.textContent = caption.text;
                card.dataset.id = caption.id;
                
                card.addEventListener('click', () => {
                    // Deselect all cards
                    document.querySelectorAll('.caption-card').forEach(c => {
                        c.classList.remove('selected');
                    });
                    
                    // Select this card
                    card.classList.add('selected');
                    gameState.selectedCaption = caption;
                    document.getElementById('submit-caption-btn').disabled = false;
                });
                
                container.appendChild(card);
            });
        }

        function submitCaption() {
            // In a real game, this would send to server
            // For demo, we'll just simulate the process
            
            document.getElementById('player-section').style.display = 'none';
            document.getElementById('waiting-section').style.display = 'block';
            document.getElementById('waiting-meme-image').src = gameState.currentImage.url;
            
            document.getElementById('game-status').textContent = 
                'Waiting for other players and judge...';
            
            // Simulate judge reviewing and selecting winner
            setTimeout(selectWinner, 3000);
        }

        function simulateAISubmissions() {
            // AI players automatically submit captions
            const aiPlayers = gameState.players.filter(p => p.username !== gameState.username && !p.isJudge);
            
            aiPlayers.forEach(player => {
                // Select a random caption from AI's hand
                const randomCaption = player.hand[Math.floor(Math.random() * player.hand.length)];
                
                // Add to submissions (in a real game, this would come from server)
                gameState.submissions.push({
                    player: player.username,
                    caption: randomCaption.text
                });
            });
        }

        function selectWinner() {
            // In a real game, the judge would select
            // For demo, we'll randomly select a winner
            const submissions = [
                { player: gameState.username, caption: gameState.selectedCaption.text },
                ...gameState.submissions
            ];
            
            const winner = submissions[Math.floor(Math.random() * submissions.length)];
            
            // Update scores
            gameState.scores[winner.player]++;
            
            // Check if someone won
            if (gameState.scores[winner.player] >= 3) { // Reduced for demo
                showWinner(winner);
            } else {
                // Continue to next round
                gameState.round++;
                gameState.currentImage = shuffleArray([...gameData.imageCards])[0];
                gameState.submissions = [];
                gameState.selectedCaption = null;
                
                // Rotate judge
                const currentJudgeIndex = gameState.players.findIndex(p => p.isJudge);
                gameState.players.forEach(p => p.isJudge = false);
                const nextJudgeIndex = (currentJudgeIndex + 1) % gameState.players.length;
                gameState.players[nextJudgeIndex].isJudge = true;
                
                startNewRound();
            }
        }

        function showWinner(winner) {
            document.getElementById('winner-name').textContent = winner.player;
            document.getElementById('winning-caption').textContent = `"${winner.caption}"`;
            
            // Update final scoreboard
            const finalScoreboard = document.getElementById('final-scoreboard');
            finalScoreboard.innerHTML = '';
            
            Object.entries(gameState.scores)
                .sort((a, b) => b[1] - a[1])
                .forEach(([player, score]) => {
                    const scoreItem = document.createElement('div');
                    scoreItem.className = 'score-item';
                    scoreItem.innerHTML = `
                        <div class="player-name">${player}</div>
                        <div class="score">${score}</div>
                    `;
                    finalScoreboard.appendChild(scoreItem);
                });
            
            showScreen('winner');
        }

        function updateScoreboard() {
            const scoreboard = document.getElementById('scoreboard');
            scoreboard.innerHTML = '';
            
            Object.entries(gameState.scores)
                .sort((a, b) => b[1] - a[1])
                .forEach(([player, score]) => {
                    const scoreItem = document.createElement('div');
                    scoreItem.className = 'score-item';
                    scoreItem.innerHTML = `
                        <div class="player-name">${player}</div>
                        <div class="score">${score}</div>
                    `;
                    scoreboard.appendChild(scoreItem);
                });
        }

        function updateGameScreen() {
            // This would update the game screen with current state
            // In a real implementation, this would be called when game state changes
        }

        function resetGame() {
            gameState = {
                roomCode: '',
                username: '',
                players: [],
                isJudge: false,
                hand: [],
                currentImage: null,
                submissions: [],
                selectedCaption: null,
                scores: {},
                round: 0
            };
        }

        // Initialize the game
        document.getElementById('username').focus();
    </script>
</body>
</html>
